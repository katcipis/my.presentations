Docker Compose
Um novo paradigma de desenvolvimento com docker compose
13 Maio 2015
Tags: docker, docker-compose, ambiente de desenvolvimento, desenvolvimento, dev

Luciano Borguetti, Tiago Katcipis
lucianoborguetti@gmail.com / tiago.katcipis@neoway.com.br
http://github.com/lborguetti / http://github.com/katcipis


* Agenda

- Infraestrutura de desenvolvimento
- Docker
- Usando o Docker
- Docker Compose
- Usando o Docker Compose


* Infraestrutura de desenvolvimento

* Necessidades

- Fácil de construir (novos desenvolvedores conseguem começar rápido :-)
- Rastreável
- Escalável
- Habilitar um ambiente heterogêneo
- Permitir testes isolados e de integração
- Testes são executados em um ambiente o mais próximo possível de produção
- Tudo isso em uma solução que pode ser composta de vários serviços (MongoDB, Redis, RabbitMQ, etc)


* Docker (KLB, explica essa droga)

* Docker Linking (KLB, explica essa droga de linkar containers)


* Usando o Docker

* Primeira idéia

- Ambiente de desenvolvimento isolado usando Docker
- Container docker eh construido com todas as ferramentas necessárias
- Rastreabilidade e isolamento no build e execução dos testes
- Parece bom
- Só que não :-(


* Como testar integração ?

- Preciso de um Redis
- E um RabbitMQ
- E um MongoDB
- E um outro serviço qualquer desenvolvido in-house
- Com microserviços isso só piora :-)


* Insistindo apenas em um container

- Colocar todos os serviços junto no seu container de desenvolvimento
- Como parar / reiniciar um serviço especifico ?
- Como avaliar o log de cada um dos serviços isoladamente ?
- Docker não foi feito para executar mais de um serviço por container (Exemplo: docker stop)
- Dificilmente próximo do ambiente final de produção :-(
